# JoyGate .env 示例：复制为 .env 后按需修改；仅 setdefault，不覆盖终端已设变量。
# 路径：仓库根目录 .env，或通过环境变量 JOYGATE_ENV_FILE 指定。

# --- Demo 时间缩放（1「分钟」对应的秒数；设为 5 时 demo 中 1 分钟=5 秒，便于 M15 等测试）---
JOYGATE_DEMO_MINUTE_SECONDS=5

# --- SOFT 复核与升级（路段封控 M14/M15）---
# SOFT 复核周期（配置单位：分钟；实际秒数由 DEMO_MINUTE_SECONDS 换算）
JOYGATE_SOFT_HAZARD_RECHECK_INTERVAL_MINUTES=1
# 连续复核仍 BLOCKED 达此次数后升级为 HARD_BLOCKED
JOYGATE_SOFT_HAZARD_ESCALATE_AFTER_RECHECKS=2

# --- 路段 witness 投票与窗口（DEMO 加速：1 分钟=5 秒时，1 即 5 秒内完成）---
# 路段复核 SLA：投票时间窗口（分钟），超时视为无效
JOYGATE_SEGMENT_WITNESS_SLA_TIMEOUT_MINUTES=1
# 路段最小有效票数
JOYGATE_SEGMENT_WITNESS_VOTES_REQUIRED=2
# 走通过新鲜度窗口（分钟），用于 telemetry 与规划权重
JOYGATE_SEGMENT_FRESHNESS_WINDOW_MINUTES=10

# --- 可选：其他常用 key（按需取消注释）---
# JOYGATE_MAX_INCIDENTS=200
# JOYGATE_WITNESS_SLA_TIMEOUT_MINUTES=3
# JOYGATE_DASHBOARD_DAY_MODE=DEMO
# JOYGATE_DEMO_DAY_SECONDS=300

# --- 可选：真实 AI API（中转站 / Gemini）---
# 方案 A：JOY_BRAIN 中转站（优先；OpenAI 兼容 /v1/chat/completions）
#
# 使用说明（关键点）：
# - JOY_BRAIN_BASE_URL **不要带** `/v1`：代码会自动拼接为 `${JOY_BRAIN_BASE_URL}/v1/chat/completions`
#   - 例如 FlowUs 上如果写的是 `OpenAI Base URL = https://example.com/v1`，这里应填 `https://example.com`
# - 鉴权：请求头 `Authorization: Bearer <JOY_BRAIN_KEY>`
#
# JOYGATE_AI_PROVIDER=gemini
# JOY_BRAIN_BASE_URL=https://example.com
# JOY_BRAIN_KEY=sk_your_key_here
# JOY_BRAIN_MODEL=gemini-3-flash-preview-all
#
# 方案 B：官方 Gemini（需要 google-genai SDK）
# JOYGATE_AI_PROVIDER=gemini
# GEMINI_API_KEY=your_real_api_key_here
# JOYGATE_GEMINI_MODEL=gemini-3.0-flash
#
# Demo 加速（可选）：投票/上报后处理更快完成
# JOYGATE_AI_JOB_LEASE_SECONDS=5
# JOYGATE_AI_JOB_DEDUP_SECONDS=2
